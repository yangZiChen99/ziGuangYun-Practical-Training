# 5月8日实训内容

## SQL基础教程理论学习

**第一章**：

学习了数据库的结构和基本理论，以及数据库的实际应用，同时学习到了如何对关系数据库中用来存储数据的表进行创建、更新和删除操作，同时还能掌握关系数据库专用的SQL 语句的书写方法和规则。

**第二章：**

学习了**SELECT**语句的使用，以及算数运算符、比较运算符和逻辑运算符的使用规则及注意事项。

**第三章：**

学习使用**聚合函数**对表中的列进行计算合计值或者平均值等的汇总操作，了解了NULL在聚合函数里的特殊性以及**DISTINCT**关键字的使用；学习了**Group By、HAVING和ORDER BY**子句的使用方法及注意事项。

## 课后作业

**第一章课后作业**

**1.1、编写一条 CREATE TABLE 语句，用来创建一个包含表 1-A 中所列各项的表 Addressbook（地址簿），并为 regist_no（注册编号）列设置主键约束。**

![1.1.png](D:\桌面\实训\image\1.1.png)

**1.2 假设在创建练习 1.1 中的 Addressbook 表时忘记添加如下一列 postal_code（邮政编码）了，请把此列添加到 Addressbook 表中。**

列名：postal_code

数据类型 ：定长字符串类型（长度为 8）

约束：不能为 NULL

![1.2.png](D:\桌面\实训\image\1.2.png)

**1.3 编写 SQL 语句来删除 Addressbook 表。**

![1.3.png](D:\桌面\实训\image\1.3.png)

**1.4 编写 SQL 语句来恢复删除掉的 Addressbook 表。**

删除的表无法通过sql语句直接恢复，只能重新创建。

**第二章课后作业**

**2.1 编写一条 SQL 语句，从 Product（商品）表中选取出“登记日期（regist_date）在 2009 年 4 月 28 日之后”的商品。查询结果要包含 product_name 和 regist_date 两列。**

![2.1.png](D:\桌面\实训\image\2.1.png)

**2.2 请说出对 Product 表执行如下 3 条 SELECT 语句时的返回结果。**

```①
① SELECT *

FROM Product

WHERE purchase_price = NULL;

② SELECT *

FROM Product

WHERE purchase_price <> NULL;

③ SELECT *
FROM Product
WHERE product_name > NULL;
```

这三条SELECT语句都不会返回任何数据，正确的做法应当是使用IS NULL和IS NOT NULL来检查NULL值的存在与否。

**2.3 代码清单 2-22（2-2 节）中的 SELECT 语句能够从 Product 表中取出“销售单价（sale_price）比进货单价（purchase_price）高出 500日元以上”的商品。请写出两条可以得到相同结果的 SELECT 语句。**

1、![2.3.1.png](D:\桌面\实训\image\2.3.1.png)

2、

![2.3.2.png](D:\桌面\实训\image\2.3.2.png)

**2.4 请写出一条 SELECT 语句，从 Product 表中选取出满足“销售单价打九折之后利润高于 100 日元的办公用品和厨房用具”条件的记录。查询结果要包括 product_name 列、product_type 列以及销售单价打九折之后的利润（别名设定为 profit）。**

![2.4.png](D:\桌面\实训\image\2.4.png)

**第三章课后作业**

**3.1 请指出下述 SELECT 语句中所有的语法错误。**

```
SELECT product_id, SUM(product_name)

-- 本SELECT语句中存在错误。

FROM Product

GROUP BY product_type

WHERE regist_date > '2009-09-01';
```

WHERE子句和GROUP BY位置错误，SUM函数计算的属性有误，SELECT 子句中存在 GROUP BY 子句中未指定的属性

**3.2 请编写一条 SELECT 语句，求出销售单价（sale_price 列）合计值是进货单价（purchase_price 列）合计值 1.5 倍的商品种类。**

![3.2.png](D:\桌面\实训\image\3.2.png)

**3.3 此前我们曾经使用 SELECT 语句选取出了 Product（商品）表中的全部记录。当时我们使用了 ORDER BY 子句来指定排列顺序，但现在已经无法记起当时如何指定的了。请根据下列执行结果，思考 ORDER BY 子句的内容。**

![3.3.png](D:\桌面\实训\image\3.3.png)
